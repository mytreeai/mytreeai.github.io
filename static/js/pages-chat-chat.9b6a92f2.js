(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-chat"],{"0595":function(t,e,a){"use strict";var i=a("e8da"),n=a.n(i);n.a},"0633":function(t,e,a){"use strict";a.r(e);var i=a("f5e0"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"0f9d":function(t,e,a){t.exports=a.p+"static/img/voice.eb024635.png"},1132:function(t,e){t.exports={fileRead:function(t,e){plus.io.requestFileSystem(plus.io.PRIVATE_DOC,(function(a){a.root.getFile(t,{create:!1},(function(t){t.file((function(t){var a=new plus.io.FileReader;a.readAsDataURL(t),a.onloadend=function(t){var a=t.target.result;e(a)}}))}))}))}}},"14e0":function(t,e,a){"use strict";a.r(e);var i=a("3f42"),n=a("e2c6");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("afd0");var s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"9eba0dcc",null,!1,i["a"],void 0);e["default"]=r.exports},"1d70":function(t,e,a){var i=a("6da2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("7c5114f0",i,!0,{sourceMap:!1,shadowMode:!1})},"2aa8":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.loader[data-v-9eba0dcc]{--color:#00f;--size-mid:6vmin;--size-dot:1.5vmin;--size-bar:0.4vmin;--size-square:3vmin;display:block;position:relative;width:50%;display:grid;place-items:center}.loader[data-v-9eba0dcc]::before,\n\t.loader[data-v-9eba0dcc]::after{content:"";box-sizing:border-box;position:absolute}\n\n\t/**\n\tloader loader1\n**/.loader.loader1[data-v-9eba0dcc]::before{width:var(--size-mid);height:var(--size-mid);border:4px solid var(--color);border-top-color:transparent;border-radius:50%;-webkit-animation:loader-1-data-v-9eba0dcc 1s linear infinite;animation:loader-1-data-v-9eba0dcc 1s linear infinite}.loader.loader1[data-v-9eba0dcc]::after{width:calc(var(--size-mid) - 2px);height:calc(var(--size-mid) - 2px);border:2px solid transparent;border-top-color:var(--color);border-radius:50%;animation:loader-1-data-v-9eba0dcc .6s linear reverse infinite}\n\n\t/* @-webkit-keyframes loader-1 {\n\t\t100% {\n\t\t\ttransform: rotate(1turn);\n\t\t}\n\t} */@-webkit-keyframes loader-1-data-v-9eba0dcc{100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader-1-data-v-9eba0dcc{100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}\n\n\t/**\n\tloader loader2\n**/.loader.loader2[data-v-9eba0dcc]::before,\n\t.loader.loader2[data-v-9eba0dcc]::after{width:var(--size-dot);height:var(--size-dot);background-color:var(--color);border-radius:50%;opacity:0;-webkit-animation:loader-2-data-v-9eba0dcc .8s cubic-bezier(.2,.32,0,.87) infinite;animation:loader-2-data-v-9eba0dcc .8s cubic-bezier(.2,.32,0,.87) infinite}.loader.loader2[data-v-9eba0dcc]::after{-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes loader-2-data-v-9eba0dcc{0%,\n\t\t80%,\n\t\t100%{opacity:0}33%{opacity:1}0%,\n\t\t100%{-webkit-transform:translateX(-4vmin);transform:translateX(-4vmin)}90%{-webkit-transform:translateX(4vmin);transform:translateX(4vmin)}}@keyframes loader-2-data-v-9eba0dcc{0%,\n\t\t80%,\n\t\t100%{opacity:0}33%{opacity:1}0%,\n\t\t100%{-webkit-transform:translateX(-4vmin);transform:translateX(-4vmin)}90%{-webkit-transform:translateX(4vmin);transform:translateX(4vmin)}}\n\n\t/**\n\tloader loader3\n**/.loader.loader3[data-v-9eba0dcc]::before,\n\t.loader.loader3[data-v-9eba0dcc]::after{width:var(--size-dot);height:var(--size-dot);background-color:var(--color);border-radius:50%;-webkit-animation:loader-3-data-v-9eba0dcc 1.2s ease-in-out infinite;animation:loader-3-data-v-9eba0dcc 1.2s ease-in-out infinite}.loader.loader3[data-v-9eba0dcc]::before{left:calc(50% - 1.6vmin - var(--size-dot))}.loader.loader3[data-v-9eba0dcc]::after{left:calc(50% + 1.6vmin);-webkit-animation-delay:-.4s;animation-delay:-.4s}@-webkit-keyframes loader-3-data-v-9eba0dcc{0%,\n\t\t100%{-webkit-transform:translateY(-2.6vmin);transform:translateY(-2.6vmin)}44%{-webkit-transform:translateY(2.6vmin);transform:translateY(2.6vmin)}}@keyframes loader-3-data-v-9eba0dcc{0%,\n\t\t100%{-webkit-transform:translateY(-2.6vmin);transform:translateY(-2.6vmin)}44%{-webkit-transform:translateY(2.6vmin);transform:translateY(2.6vmin)}}\n\n\t/**\n\tloader loader4\n**/.loader.loader4[data-v-9eba0dcc]::before{height:var(--size-bar);width:6vmin;background-color:var(--color);-webkit-animation:loader-4-data-v-9eba0dcc .8s cubic-bezier(0,0,.03,.9) infinite;animation:loader-4-data-v-9eba0dcc .8s cubic-bezier(0,0,.03,.9) infinite}@-webkit-keyframes loader-4-data-v-9eba0dcc{0%,\n\t\t44%,\n\t\t88.1%,\n\t\t100%{-webkit-transform-origin:left;transform-origin:left}0%,\n\t\t100%,\n\t\t88%{-webkit-transform:scaleX(0);transform:scaleX(0)}44.1%,\n\t\t88%{-webkit-transform-origin:right;transform-origin:right}33%,\n\t\t44%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes loader-4-data-v-9eba0dcc{0%,\n\t\t44%,\n\t\t88.1%,\n\t\t100%{-webkit-transform-origin:left;transform-origin:left}0%,\n\t\t100%,\n\t\t88%{-webkit-transform:scaleX(0);transform:scaleX(0)}44.1%,\n\t\t88%{-webkit-transform-origin:right;transform-origin:right}33%,\n\t\t44%{-webkit-transform:scaleX(1);transform:scaleX(1)}}\n\n\t/**\n\tloader loader5\n**/.loader.loader5[data-v-9eba0dcc]::before,\n\t.loader.loader5[data-v-9eba0dcc]::after{height:3vmin;width:var(--size-bar);background-color:var(--color);-webkit-animation:loader-5-data-v-9eba0dcc .6s cubic-bezier(0,0,.03,.9) infinite;animation:loader-5-data-v-9eba0dcc .6s cubic-bezier(0,0,.03,.9) infinite}.loader.loader5[data-v-9eba0dcc]::before{left:calc(50% - 1vmin);top:calc(50% - 3vmin)}.loader.loader5[data-v-9eba0dcc]::after{left:calc(50% + 1vmin);top:calc(50% - 1vmin);-webkit-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes loader-5-data-v-9eba0dcc{0%,\n\t\t88%,\n\t\t100%{opacity:0}0%{-webkit-transform:translateY(-6vmin);transform:translateY(-6vmin)}33%{opacity:1}33%,\n\t\t88%{-webkit-transform:translateY(3vmin);transform:translateY(3vmin)}}@keyframes loader-5-data-v-9eba0dcc{0%,\n\t\t88%,\n\t\t100%{opacity:0}0%{-webkit-transform:translateY(-6vmin);transform:translateY(-6vmin)}33%{opacity:1}33%,\n\t\t88%{-webkit-transform:translateY(3vmin);transform:translateY(3vmin)}}\n\n\t/**\n\tloader loader6\n**/.loader.loader6[data-v-9eba0dcc]::before{width:var(--size-square);height:var(--size-square);background-color:var(--color);top:calc(50% - var(--size-square));left:calc(50% - var(--size-square));-webkit-animation:loader-6-data-v-9eba0dcc 2.4s cubic-bezier(0,0,.24,1.21) infinite;animation:loader-6-data-v-9eba0dcc 2.4s cubic-bezier(0,0,.24,1.21) infinite}@-webkit-keyframes loader-6-data-v-9eba0dcc{0%,\n\t\t100%{-webkit-transform:none;transform:none}25%{-webkit-transform:translateX(100%);transform:translateX(100%)}50%{-webkit-transform:translateX(100%) translateY(100%);transform:translateX(100%) translateY(100%)}75%{-webkit-transform:translateY(100%);transform:translateY(100%)}}@keyframes loader-6-data-v-9eba0dcc{0%,\n\t\t100%{-webkit-transform:none;transform:none}25%{-webkit-transform:translateX(100%);transform:translateX(100%)}50%{-webkit-transform:translateX(100%) translateY(100%);transform:translateX(100%) translateY(100%)}75%{-webkit-transform:translateY(100%);transform:translateY(100%)}}\n\n\t/**\n\tloader loader7\n**/.loader.loader7[data-v-9eba0dcc]::before,\n\t.loader.loader7[data-v-9eba0dcc]::after{width:var(--size-square);height:var(--size-square);background-color:var(--color)}.loader.loader7[data-v-9eba0dcc]::before{top:calc(50% - var(--size-square));left:calc(50% - var(--size-square));-webkit-animation:loader-6-data-v-9eba0dcc 2.4s cubic-bezier(0,0,.24,1.21) infinite;animation:loader-6-data-v-9eba0dcc 2.4s cubic-bezier(0,0,.24,1.21) infinite}.loader.loader7[data-v-9eba0dcc]::after{top:50%;left:50%;-webkit-animation:loader-7-data-v-9eba0dcc 2.4s cubic-bezier(0,0,.24,1.21) infinite;animation:loader-7-data-v-9eba0dcc 2.4s cubic-bezier(0,0,.24,1.21) infinite}@-webkit-keyframes loader-7-data-v-9eba0dcc{0%,\n\t\t100%{-webkit-transform:none;transform:none}25%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}50%{-webkit-transform:translateX(-100%) translateY(-100%);transform:translateX(-100%) translateY(-100%)}75%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@keyframes loader-7-data-v-9eba0dcc{0%,\n\t\t100%{-webkit-transform:none;transform:none}25%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}50%{-webkit-transform:translateX(-100%) translateY(-100%);transform:translateX(-100%) translateY(-100%)}75%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}\n\n\t/**\n\tloader loader8\n**/.loader.loader8[data-v-9eba0dcc]::before,\n\t.loader.loader8[data-v-9eba0dcc]::after{width:var(--size-dot);height:var(--size-dot);border-radius:50%;background-color:var(--color)}.loader.loader8[data-v-9eba0dcc]::before{top:calc(50% + 4vmin);-webkit-animation:loader-8-1-data-v-9eba0dcc .8s cubic-bezier(.06,.01,.49,1.18) infinite;animation:loader-8-1-data-v-9eba0dcc .8s cubic-bezier(.06,.01,.49,1.18) infinite}.loader.loader8[data-v-9eba0dcc]::after{opacity:0;top:calc(50% - 2vmin);-webkit-animation:loader-8-2-data-v-9eba0dcc .8s cubic-bezier(.46,-.1,.27,1.07) .2s infinite;animation:loader-8-2-data-v-9eba0dcc .8s cubic-bezier(.46,-.1,.27,1.07) .2s infinite}@-webkit-keyframes loader-8-1-data-v-9eba0dcc{0%,\n\t\t55%,\n\t\t100%{opacity:0}0%{-webkit-transform:scale(.2);transform:scale(.2)}22%{opacity:1}33%,\n\t\t55%{-webkit-transform:scale(1) translateY(-6vmin);transform:scale(1) translateY(-6vmin)}}@keyframes loader-8-1-data-v-9eba0dcc{0%,\n\t\t55%,\n\t\t100%{opacity:0}0%{-webkit-transform:scale(.2);transform:scale(.2)}22%{opacity:1}33%,\n\t\t55%{-webkit-transform:scale(1) translateY(-6vmin);transform:scale(1) translateY(-6vmin)}}@-webkit-keyframes loader-8-2-data-v-9eba0dcc{0%,\n\t\t100%{opacity:0}33%{opacity:.3}0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(4);transform:scale(4)}}@keyframes loader-8-2-data-v-9eba0dcc{0%,\n\t\t100%{opacity:0}33%{opacity:.3}0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(4);transform:scale(4)}}\n\n\t/**\n\tloader loader9\n**/.loader.loader9[data-v-9eba0dcc]::before,\n\t.loader.loader9[data-v-9eba0dcc]::after{width:var(--size-dot);height:var(--size-dot);border-radius:50%;background-color:var(--color);-webkit-animation:loader-9-data-v-9eba0dcc .42s cubic-bezier(.39,.31,0,1.11) infinite;animation:loader-9-data-v-9eba0dcc .42s cubic-bezier(.39,.31,0,1.11) infinite}.loader.loader9[data-v-9eba0dcc]::before{left:calc(50% - var(--size-dot) - 1.6vmin)}.loader.loader9[data-v-9eba0dcc]::after{left:calc(50% + 1.6vmin);-webkit-animation-delay:.12s;animation-delay:.12s}@-webkit-keyframes loader-9-data-v-9eba0dcc{0%,\n\t\t100%{opacity:0}0%{-webkit-transform:translate(-4vmin,-4vmin);transform:translate(-4vmin,-4vmin)}66%{opacity:1}66%,\n\t\t100%{-webkit-transform:none;transform:none}}@keyframes loader-9-data-v-9eba0dcc{0%,\n\t\t100%{opacity:0}0%{-webkit-transform:translate(-4vmin,-4vmin);transform:translate(-4vmin,-4vmin)}66%{opacity:1}66%,\n\t\t100%{-webkit-transform:none;transform:none}}\n\n\t/* .piaoyi-container {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(3, 18vmin);\n\t\tgrid-template-rows: repeat(3, 18vmin);\n\t\tgrid-gap: 1vmin;\n\t} */.piaoyi-container-item[data-v-9eba0dcc]{background:hsla(0,0%,100%,.1);border-radius:%?8?%;width:%?100?%;height:%?100?%;display:flex;justify-content:center;align-items:center}',""]),t.exports=e},"3f42":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"piaoyi-page"},[a("v-uni-view",{staticClass:"piaoyi-container"},["loader1"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader1"})],1):t._e(),"loader2"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader2"})],1):t._e(),"loader3"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader3"})],1):t._e(),"loader4"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader4"})],1):t._e(),"loader5"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader5"})],1):t._e(),"loader6"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader6"})],1):t._e(),"loader7"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader7"})],1):t._e(),"loader8"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader8"})],1):t._e(),"loader9"==t.type?a("v-uni-view",{staticClass:"piaoyi-container-item"},[a("v-uni-text",{staticClass:"loader loader9"})],1):t._e()],1)],1)},n=[]},"512ce":function(t,e,a){var i=a("603a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("1bc8ec47",i,!0,{sourceMap:!1,shadowMode:!1})},"5ae3":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.record-btn[data-v-39158b7a]{color:#000;font-size:%?24?%;display:flex;align-items:center;justify-content:center;transition:.25s all;border:%?1?% solid #f5f5f5}.record-btn-hover[data-v-39158b7a]{color:var(--btn-hover-fontcolor)!important;background-color:var(--btn-hover-bgcolor)!important}.record-popup[data-v-39158b7a]{position:absolute;bottom:var(--popup-bottom);left:calc(50vw - calc(var(--popup-width) / 2));z-index:1;width:var(--popup-width);height:var(--popup-height);display:flex;align-items:center;justify-content:center;border-radius:%?10?%;box-shadow:0 %?2?% %?4?% rgba(0,0,0,.1);background:var(--popup-bg-color);color:#000;transition:.2s height}.record-popup .inner-content[data-v-39158b7a]{height:var(--popup-height);font-size:%?24?%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.record-popup .inner-content .title[data-v-39158b7a]{font-weight:700;padding:%?20?% 0}.record-popup .inner-content .tips[data-v-39158b7a]{color:#999;padding:%?20?% 0}.cancel-icon[data-v-39158b7a]{width:%?100?%;height:%?100?%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:%?44?%;line-height:%?44?%;background-color:pink;border-radius:50%;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.voice-line-wrap[data-v-39158b7a]{display:flex;align-items:center}.voice-line-wrap .voice-line[data-v-39158b7a]{width:%?5?%;height:var(--line-height);border-radius:%?3?%;margin:0 %?5?%}.voice-line-wrap .one[data-v-39158b7a]{-webkit-animation:wave-data-v-39158b7a .4s 1s linear infinite alternate;animation:wave-data-v-39158b7a .4s 1s linear infinite alternate}.voice-line-wrap .two[data-v-39158b7a]{-webkit-animation:wave-data-v-39158b7a .4s .9s linear infinite alternate;animation:wave-data-v-39158b7a .4s .9s linear infinite alternate}.voice-line-wrap .three[data-v-39158b7a]{-webkit-animation:wave-data-v-39158b7a .4s .8s linear infinite alternate;animation:wave-data-v-39158b7a .4s .8s linear infinite alternate}.voice-line-wrap .four[data-v-39158b7a]{-webkit-animation:wave-data-v-39158b7a .4s .7s linear infinite alternate;animation:wave-data-v-39158b7a .4s .7s linear infinite alternate}.voice-line-wrap .five[data-v-39158b7a]{-webkit-animation:wave-data-v-39158b7a .4s .6s linear infinite alternate;animation:wave-data-v-39158b7a .4s .6s linear infinite alternate}.voice-line-wrap .six[data-v-39158b7a]{-webkit-animation:wave-data-v-39158b7a .4s .5s linear infinite alternate;animation:wave-data-v-39158b7a .4s .5s linear infinite alternate}.voice-line-wrap .seven[data-v-39158b7a]{-webkit-animation:wave-data-v-39158b7a .4s linear infinite alternate;animation:wave-data-v-39158b7a .4s linear infinite alternate}@-webkit-keyframes wave-data-v-39158b7a{0%{-webkit-transform:scale(1);transform:scale(1);background-color:var(--line-start-color)}100%{-webkit-transform:scaleY(.2);transform:scaleY(.2);background-color:var(--line-end-color)}}@keyframes wave-data-v-39158b7a{0%{-webkit-transform:scale(1);transform:scale(1);background-color:var(--line-start-color)}100%{-webkit-transform:scaleY(.2);transform:scaleY(.2);background-color:var(--line-end-color)}}',""]),t.exports=e},"5dc8":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("14d9"),a("a434"),a("a9e3"),a("e9c4"),a("5319");i(a("87db"));var n=i(a("14e0")),o=i(a("bdb4")),s=(getApp(),a("e85b")),r=a("1132"),l={components:{piaoyiLoaderAnimate:n.default,typewriter:o.default},data:function(){return{mpInputMargin:!0,formData:{content:"",scene_id:"4"},chatType:"voice",allContentList:[],notice_is_show:0,noticetext:"公告：已支持连续对话模式，可以根据历史对话上下文回答问题，快来体验吧",marqueePace:1,marqueeDistance:0,marquee_margin:30,noticetext_size:14,noticetext_interval:20,notice_view_height:"",scrollheight:0,height:"",toLast:"",session_create_url:"https://coolshine.net/api/session/create",audio2text_url:"https://coolshine.net/api/session/speechToText",text2audio_url:"https://coolshine.net/api/session/textToSpeech",continue_dialogue_url:"https://coolshine.net/api/session/reply",session_id:0,reply_message_id:0}},onLoad:function(){console.log("OnLoad start");uni.setNavigationBarTitle({title:"口语练习",success:function(){},fail:function(){}}),this.scrolltxt()},onShow:function(){},onReady:function(){var t=this;uni.createSelectorQuery().select(".input-box").boundingClientRect((function(e){t.scrollheight=uni.getSystemInfoSync().windowHeight-e.height,console.log("windowHeight:"+uni.getSystemInfoSync().windowHeight),console.log("data.height:"+e.height),console.log("scrollheight:"+t.scrollheight),t.setData({scrollheight:t.scrollheight})})).exec()},methods:{addLoaderToAllContentList:function(t){this.allContentList.push({is_show_loader:"true",content:"",speak_img:"/static/image/speaker_static_40.png",show_posstion:t,is_show_fanyi_result:!1,is_show_fanyi_result_loader:!0,fanyi_result:"",is_show_ans_tips_result:!1,is_show_ans_tips_result_loader:!0,ans_tips_result:"",is_show_check_syntax_result:!1,is_show_check_syntax_result_loader:!0,check_syntax_result:""}),this.setData({allContentList:this.allContentList}),this.scrollViewGoToBottom()},delAllContentListBottom:function(){var t=this.allContentList.length;console.log("delAllContentListBottom start length:"+t),this.allContentList.splice(t-1,1),this.setData({allContentList:this.allContentList}),console.log("delAllContentListBottom end length:"+this.allContentList.length),this.scrollViewGoToBottom()},sessionSwitch:function(){console.log("ssssssssssss"),this.addLoaderToAllContentList("left");var t={lang:"en-US",level:1,scene_id:Number(this.formData.scene_id),stream:1,type:"new"},e=JSON.stringify(t);console.log("sssssss:"+e);var a=s.requestSync(this.session_create_url,e,"POST",null);a.then(this.sessionSwitch_success,this.sessionSwitch_fail)},sessionSwitch_success:function(t){console.log("sessionSwitch success res:"+JSON.stringify(t)),this.reply_message_id=t.data.message_id,this.session_id=t.data.session_id;var e=t.data.content;console.log("content:"+e),this.allContentList[this.allContentList.length-1].value=e,this.speak_sound(this.allContentList.length-1,e)},sessionSwitch_fail:function(t){console.log("ddddddddddddd"),console.log("sessionSwitch fail res:"+JSON.stringify(t)),uni.showToast({icon:"none",title:"妈呀，走丢了, 请检查您的小网络"}),this.delAllContentListBottom()},speak_sound:function(t,e){console.log("index:"+t);var a=this;if(this.allContentList[t].speak_link&&""!=this.allContentList[t].speak_link)console.log("this.allContentList["+t+"].speak_link:"+this.allContentList[t].speak_link),this.startSpeak(t);else{var i={lang:"en-US",text:e},n=JSON.stringify(i);console.log("text2audio input:"+n),uni.request({url:this.text2audio_url,data:n,method:"POST",success:function(e){200==e.statusCode?a.text2audio_success(e,t):(a.text2audio_fail(err),console.log("33333333"))},fail:function(t){a.text2audio_fail(t)}})}},text2audio_success:function(t,e){console.log("text2audio success res:"+JSON.stringify(t)),this.allContentList[e].speak_link=t.data.link,this.allContentList[this.allContentList.length-1].is_show_loader="false",this.startSpeak(e)},text2audio_fail:function(t){console.log("text2audio_fail fail. err:"+t),this.allContentList[this.allContentList.length-1].is_show_loader="false",console.log("222222222222"),uni.showToast({icon:"none",title:"妈呀，走丢了"})},startSpeak:function(t){var e=this,a=uni.createInnerAudioContext();a.src=this.allContentList[t].speak_link,console.log("innerAudioContext.src:"+a.src),a.play(),a.onPlay((function(){e.allContentList[t].speak_img="/static/image/speaker_dynamic_40.gif",console.log("开始播放, index:"+t+"speak_img:"+e.allContentList[t].speak_img),e.setData({allContentList:e.allContentList})})),a.onError((function(t){a.destroy(),console.log(t.errMsg),console.log(t.errCode)})),a.onEnded((function(){console.log("播放完成"),a.destroy(),e.allContentList[t].speak_img="/static/image/speaker_static_40.png",console.log("speak_img:"+e.allContentList[t].speak_img),e.setData({allContentList:e.allContentList})}))},switchChatType:function(t){this.chatType=t},startVoice:function(){console.log("开始录音")},endVoice:function(t){console.log("结束录音. file:"+t.tempFilePath),this.addLoaderToAllContentList("right"),this.sendAudioData(t.tempFilePath)},cancelVoice:function(){console.log("取消录音")},sendAudioData_success:function(t){console.log("sendAudioData success res:"+JSON.stringify(t)),this.allContentList[this.allContentList.length-1].value=t.data.text,this.allContentList[this.allContentList.length-1].is_show_loader="false",this.continueDialogue(t.data.text)},sendAudioData_fail:function(t){this.delAllContentListBottom(),console.log("sendAudioData fail. err:"+t),uni.showToast({icon:"none",title:"妈呀，走丢了"})},sendAudioData:function(t){console.log("sendAudioData start, filePath:"+t);var e=this;r.fileRead(t,(function(t){var a=t.replace(/^data:audio\/\mpeg;base64,/,""),i={lang:"en",data:""};i.data=a;var n=JSON.stringify(i),o=s.requestSync(e.audio2text_url,n,"POST",null);o.then(e.sendAudioData_success,e.sendAudioData_fail)}))},continueDialogue:function(t){this.addLoaderToAllContentList("left");var e={reply_message_id:0,lan:"en-GB",level:1,stream:0,session_id:10,messages:[]};e.reply_message_id=this.reply_message_id,e.session_id=this.session_id,e.messages.push({role:"user",content:t});var a=JSON.stringify(e);console.log("continueDialogue input:"+a);var i=s.requestSync(this.continue_dialogue_url,a,"POST",null);i.then(this.sessionSwitch_success,this.sessionSwitch_fail)},check_syntax:function(t,e){this.allContentList[t].is_show_check_syntax_result&&!1!==this.allContentList[t].is_show_check_syntax_result?this.allContentList[t].is_show_check_syntax_result=!1:(this.allContentList[t].is_show_check_syntax_result=!0,this.allContentList[t].check_syntax_result&&""!=this.allContentList[t].check_syntax_result?this.allContentList[t].is_show_check_syntax_result_loader=!1:(this.allContentList[t].check_syntax_result="没有语法错误 ",this.allContentList[t].is_show_check_syntax_result_loader=!1,this.setData({allContentList:this.allContentList})))},switch_topic:function(){},fanyi_click:function(t,e){console.log("fanyi_click. index:"+t+", text:"+e),this.allContentList[t].is_show_fanyi_result&&!1!==this.allContentList[t].is_show_fanyi_result?this.allContentList[t].is_show_fanyi_result=!1:(this.allContentList[t].is_show_fanyi_result=!0,console.log("fanyi_click1111. index:"+t+", text:"+e+", .is_show_fanyi_result:"+this.allContentList[t].is_show_fanyi_result),this.allContentList[t].fanyi_result&&""!=this.allContentList[t].fanyi_result?this.allContentList[t].is_show_fanyi_result_loader=!1:(this.allContentList[t].fanyi_result="你他妈自己翻译",this.allContentList[t].is_show_fanyi_result_loader=!1,console.log("fanyi_click1111. .is_show_fanyi_result_loader:"+this.allContentList[t].is_show_fanyi_result_loader),this.setData({allContentList:this.allContentList})))},ans_tips:function(t,e){this.allContentList[t].is_show_ans_tips_result&&!1!==this.allContentList[t].is_show_ans_tips_result?this.allContentList[t].is_show_ans_tips_result=!1:(this.allContentList[t].is_show_ans_tips_result=!0,this.allContentList[t].ans_tips_result&&""!=this.allContentList[t].ans_tips_result?this.allContentList[t].is_show_ans_tips_result_loader=!1:(this.allContentList[t].ans_tips_result="hi,what is your name?",this.allContentList[t].is_show_ans_tips_result_loader=!1,this.setData({allContentList:this.allContentList})))},switch_scene:function(){this.sessionSwitch()},sendMsg:function(t){""!=this.formData.content?(this.addLoaderToAllContentList("right"),this.allContentList[this.allContentList.length-1].value=this.formData.content,this.allContentList[this.allContentList.length-1].is_show_loader="false",this.continueDialogue(this.formData.content),this.formData.content=""):uni.showToast({icon:"none",title:"内容不能为空"})},scrollViewGoToBottom:function(){var t=this;this.$nextTick((function(){t.setData({toLast:"item"+(t.allContentList.length-1)})}))},scrolltxt:function(){var t=this,e=t.noticetext.length*t.noticetext_size,a=uni.getSystemInfoSync().windowWidth;if(e>a)var i=setInterval((function(){var a=e+t.marquee_margin,n=t.marqueeDistance;n<a?t.setData({marqueeDistance:n+t.marqueePace}):(t.setData({marqueeDistance:0}),clearInterval(i),t.scrolltxt())}),t.noticetext_interval);else t.setData({marquee_margin:"1000"})},copyText:function(t){t.currentTarget.dataset.copy}}};e.default=l},"603a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.typerw .w_gb[data-v-1ceb22a4]{margin-left:5px;-webkit-animation:flash-data-v-1ceb22a4 .8s linear infinite;animation:flash-data-v-1ceb22a4 .8s linear infinite;color:#000}@-webkit-keyframes flash-data-v-1ceb22a4{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes flash-data-v-1ceb22a4{0%{opacity:1}50%{opacity:0}100%{opacity:1}}',""]),t.exports=e},"604e":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={nbVoiceRecord:a("80f2").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wrap"},[1==t.notice_is_show?i("v-uni-view",{staticClass:"marquee_box",style:"height:"+t.notice_view_height+"px"},[i("v-uni-view",{staticClass:"marquee_text",style:"transform: translateX(-"+t.marqueeDistance+"px)"},[i("v-uni-text",[t._v(t._s(t.noticetext))]),i("v-uni-text",{style:"margin-right:"+t.marquee_margin+"px;"}),i("v-uni-text",{style:"margin-right:"+t.marquee_margin+"px;"},[t._v(t._s(t.noticetext))])],1)],1):t._e(),i("v-uni-scroll-view",{staticClass:"containerBox",style:"height:"+t.scrollheight+"px;",attrs:{"scroll-x":!0,"scroll-y":!0,"scroll-into-view":t.toLast,"enable-back-to-top":!0}},t._l(t.allContentList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"chat-list",attrs:{id:"item"+(a+1)}},["left"===e.show_posstion?i("v-uni-view",{staticClass:"fl"},[i("v-uni-image",{staticClass:"photo",attrs:{src:"/static/image/ai.jpg"}}),i("v-uni-view",{staticClass:"fl_text"},["true"===e.is_show_loader?i("piaoyiLoaderAnimate",{attrs:{type:"loader2"}}):t._e(),"false"===e.is_show_loader?i("typewriter",{attrs:{textValue:e.value}}):t._e(),"false"===e.is_show_loader?i("v-uni-view",{staticClass:"fl_help"},[i("v-uni-view",{staticClass:"fl_fanyi"},[i("v-uni-image",{staticClass:"fanyi_btn",attrs:{src:"/static/image/translation-blue.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.fanyi_click(a,e.value)}}})],1),i("v-uni-view",{staticClass:"ans-tips",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.ans_tips(a,e.value)}}},[i("v-uni-text",{staticClass:"ans-tips-text"},[t._v("参考回答")])],1),i("v-uni-image",{staticClass:"fl_speaker_btn",attrs:{src:e.speak_img},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.speak_sound(a,e.value)}}})],1):t._e(),!0===e.is_show_fanyi_result?i("v-uni-view",{staticClass:"fanyi_result"},[!0===e.is_show_fanyi_result_loader?i("piaoyiLoaderAnimate",{attrs:{type:"loader2"}}):t._e(),!1===e.is_show_fanyi_result_loader?i("typewriter",{attrs:{fontSize:30,textValue:e.fanyi_result}}):t._e()],1):t._e(),!0===e.is_show_ans_tips_result?i("v-uni-view",{staticClass:"ans-tips-result"},[!0===e.is_show_ans_tips_result_loader?i("piaoyiLoaderAnimate",{attrs:{type:"loader2"}}):t._e(),!1===e.is_show_ans_tips_result_loader?i("typewriter",{attrs:{fontSize:30,textValue:e.ans_tips_result}}):t._e()],1):t._e()],1)],1):t._e(),"right"===e.show_posstion?i("v-uni-view",{staticClass:"fr"},[i("v-uni-view",{staticClass:"fr_text"},["true"===e.is_show_loader?i("piaoyiLoaderAnimate",{attrs:{type:"loader2"}}):t._e(),"false"===e.is_show_loader?i("v-uni-text",{staticClass:"text",attrs:{"data-copy":e.value},on:{longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.copyText.apply(void 0,arguments)}}},[t._v(t._s(e.value))]):t._e(),"false"===e.is_show_loader?i("v-uni-view",{staticClass:"fr_help"},[i("v-uni-view",{staticClass:"fr_fanyi"},[i("v-uni-image",{staticClass:"fanyi_btn",attrs:{src:"/static/image/translation-blue.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.fanyi_click(a,e.value)}}})],1),i("v-uni-view",{staticClass:"check-syntax",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.check_syntax(a,e.value)}}},[i("v-uni-text",{staticClass:"check-syntax-text"},[t._v("语法检查")])],1),i("v-uni-image",{staticClass:"fr_speaker_btn",attrs:{src:e.speak_img},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.speak_sound(a,e.value)}}})],1):t._e(),!0===e.is_show_fanyi_result?i("v-uni-view",{staticClass:"fanyi_result"},[!0===e.is_show_fanyi_result_loader?i("piaoyiLoaderAnimate",{attrs:{type:"loader2"}}):t._e(),!1===e.is_show_fanyi_result_loader?i("typewriter",{attrs:{fontSize:30,textValue:e.fanyi_result}}):t._e()],1):t._e(),!0===e.is_show_check_syntax_result?i("v-uni-view",{staticClass:"check-syntax-result"},[!0===e.is_show_check_syntax_result_loader?i("piaoyiLoaderAnimate",{attrs:{type:"loader2"}}):t._e(),!1===e.is_show_check_syntax_result_loader?i("typewriter",{attrs:{fontSize:30,textValue:e.check_syntax_result}}):t._e()],1):t._e()],1),i("v-uni-image",{staticClass:"photo",attrs:{src:"/static/image/ask.jpg"}})],1):t._e()],1)})),1),i("v-uni-view",{staticClass:"input-box",class:{"input-box-mpInputMargin":t.mpInputMargin}},[i("v-uni-view",{staticClass:"input-box-help"},[i("v-uni-view",{staticClass:"switch-topic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switch_topic.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"switch-topic-image",attrs:{src:"/static/image/switch_topic.png"}}),i("v-uni-text",{staticClass:"switch-topic-text"},[t._v("换话题")])],1),i("v-uni-view",{staticClass:"switch-scene",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switch_scene.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"switch-scene-image",attrs:{src:"/static/image/ans-tips.png"}}),i("v-uni-text",{staticClass:"switch-scene-text"},[t._v("换场景")])],1),i("v-uni-text",[t._v("场景id:")]),i("v-uni-input",{staticStyle:{width:"20px",height:"10px","background-color":"white","border-style":"groove"},model:{value:t.formData.scene_id,callback:function(e){t.$set(t.formData,"scene_id",e)},expression:"formData.scene_id"}})],1),i("v-uni-view",{staticClass:"input-box-flex"},["voice"===t.chatType?i("v-uni-image",{staticClass:"icon_img",attrs:{src:a("0f9d")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChatType("keyboard")}}}):t._e(),"keyboard"===t.chatType?i("v-uni-image",{staticClass:"icon_img",attrs:{src:a("bb3a")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChatType("voice")}}}):t._e(),i("v-uni-view",{staticClass:"input-box-flex-grow"},["keyboard"===t.chatType?i("v-uni-input",{staticClass:"text_input",attrs:{type:"text",id:"input","hold-keyboard":!1,"confirm-type":"send","confirm-hold":!0,"placeholder-style":"color:#DDDDDD;","cursor-spacing":10},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMsg(null)}},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}}):t._e(),"voice"===t.chatType?i("nb-voice-record",{on:{startRecord:function(e){arguments[0]=e=t.$handleEvent(e),t.startVoice.apply(void 0,arguments)},endRecord:function(e){arguments[0]=e=t.$handleEvent(e),t.endVoice.apply(void 0,arguments)},cancelRecord:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelVoice.apply(void 0,arguments)}}}):t._e()],1),"keyboard"===t.chatType?i("v-uni-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMsg(null)}}},[t._v("发送")]):t._e()],1)],1)],1)},o=[]},"6da2":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".wrap[data-v-06e5a3a2]{width:100%;height:100%;box-sizing:border-box}.containerBox[data-v-06e5a3a2]{width:100%;\n\t\t/*  display: flex;\n    flex-direction:column;*/padding-bottom:56px;\n\t\t/*background-color: #DBDBDB;*/background-color:#f6f7f8;border-top-style:outset}.chat-list[data-v-06e5a3a2]{flex:1;\n\t\t/* display:flex;\n  flex-direction: column;*/padding-bottom:10px}.fl[data-v-06e5a3a2]{display:flex;justify-content:flex-start;margin:5px}.fl_text[data-v-06e5a3a2]{display:flex;flex-direction:column;width:60%;padding:10px;background-color:#fff;border-radius:10px;margin:10px;margin-top:0}.fl_help[data-v-06e5a3a2]{display:flex;padding:0;margin:0;margin-top:0}.fl_fanyi[data-v-06e5a3a2]{display:flex;justify-content:center;align-items:center;width:20px;height:20px;background-color:#f6f7f8;border-radius:5px}.ans-tips[data-v-06e5a3a2]{display:flex;justify-content:center;align-items:center;width:50px;height:20px;background-color:#f6f7f8;border-radius:5px;margin-left:10px}.ans-tips-text[data-v-06e5a3a2]{font-size:10px;color:#00f}.fl_speaker_btn[data-v-06e5a3a2]{width:20px;height:20px;margin-left:auto}.fanyi_result[data-v-06e5a3a2]{margin-top:5px;padding:5px;border-top:1px dashed #f6f7f8}.ans-tips-result[data-v-06e5a3a2]{margin-top:5px;padding:5px;border-top:1px dashed #f6f7f8}.check-syntax-result[data-v-06e5a3a2]{margin-top:5px;padding:5px;border-top:1px dashed #f6f7f8}.photo[data-v-06e5a3a2]{width:30px;height:30px;flex:0 0 30px}.fr[data-v-06e5a3a2]{display:flex;justify-content:flex-end;\n\t\t/* background:#eee;*/margin:5px}.fr_text[data-v-06e5a3a2]{display:flex;flex-direction:column;width:60%;padding:10px;background-color:#98ff98;border-radius:10px;margin:10px;margin-top:0}.fr_help[data-v-06e5a3a2]{display:flex;padding:0;margin:0;margin-top:0}.fr_fanyi[data-v-06e5a3a2]{display:flex;justify-content:center;align-items:center;width:20px;height:20px;background-color:#fff;border-radius:5px}.check-syntax[data-v-06e5a3a2]{display:flex;justify-content:center;align-items:center;width:50px;height:20px;background-color:#fff;border-radius:5px;margin-left:10px}.check-syntax-text[data-v-06e5a3a2]{font-size:10px;color:#00f}.fr_speaker_btn[data-v-06e5a3a2]{width:20px;height:20px;\n\t\t/*background-color: #98ff98;*/margin-left:auto}.fanyi_btn[data-v-06e5a3a2]{width:20px;height:20px;margin:0}.text[data-v-06e5a3a2]{font-size:%?36?%;padding:0;border-radius:5px;margin:5px;margin-top:0}.marquee_box[data-v-06e5a3a2]{position:relative;width:100%;color:#333;background-color:#ffdead;height:30px;display:flex;overflow:hidden}.marquee_text[data-v-06e5a3a2]{white-space:nowrap;position:absolute;top:0;font-size:14px;width:80%;height:30px;line-height:30px}.input-box[data-v-06e5a3a2]{position:fixed;bottom:0;left:0;width:100%;box-sizing:initial;z-index:999;background-color:#f6f7f8;\n\t\t/*background-color: #57cc02;*/border-top-style:outset;\n}.input-box-help[data-v-06e5a3a2]{display:flex;justify-content:flex-start;align-items:center;flex-direction:row;height:30px}.switch-topic[data-v-06e5a3a2]{display:flex;justify-content:center;align-items:center;width:60px;height:25px;background-color:#fff;margin-left:10px;border-radius:12px}.switch-topic-image[data-v-06e5a3a2]{width:15px;height:15px}.switch-topic-text[data-v-06e5a3a2]{margin-left:3px;font-size:10px}.switch-scene[data-v-06e5a3a2]{display:flex;justify-content:center;align-items:center;width:65px;height:25px;background-color:#fff;margin-left:10px;border-radius:12px}.switch-scene-image[data-v-06e5a3a2]{width:15px;height:15px}.switch-scene-text[data-v-06e5a3a2]{margin-left:3px;font-size:10px}.input-box-flex[data-v-06e5a3a2]{display:flex;justify-content:flex-start;align-items:center;flex-wrap:nowrap;flex-direction:row;padding:%?20?%;padding-top:5px;box-sizing:border-box;uni-image{width:%?56?%;height:%?56?%}}.icon_img[data-v-06e5a3a2]{width:%?56?%;height:%?56?%;margin-right:%?20?%}.input-box-flex-grow[data-v-06e5a3a2]{flex-grow:1}.text_input[data-v-06e5a3a2]{box-sizing:border-box;background-color:#fff;height:%?80?%;padding:0 %?20?%;border-radius:%?12?%;font-size:%?28?%;caret-color:$uni-color-success}.btn[data-v-06e5a3a2]{margin-left:%?20?%;background-color:$uni-bg-theme;border:none}",""]),t.exports=e},7189:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=i(a("c7eb")),s=i(a("1da1"));a("a9e3");var r=uni.getRecorderManager(),l={name:"nbVoiceRecord",props:{recordOptions:{type:Object,default:function(){return{duration:6e4,sampleRate:16e3,numberOfChannels:1,frameSize:1,format:"mp3"}}},btnStyle:{type:Object,default:function(){return{height:"80rpx",borderRadius:"20rpx",backgroundColor:"#fff",border:"1rpx solid whitesmoke",permisionState:!1}}},btnHoverFontcolor:{type:String,default:"#000"},btnHoverBgcolor:{type:String,default:"whitesmoke"},btnDefaultText:{type:String,default:"长按开始录音"},btnRecordingText:{type:String,default:"录音中"},vibrate:{type:Boolean,default:!0},popupTitle:{type:String,default:"正在录制音频"},popupDefaultTips:{type:String,default:"左右滑动后松手完成录音"},popupCancelTips:{type:String,default:"松手取消录音"},popupMaxWidth:{type:Number,default:600},popupMaxHeight:{type:Number,default:300},popupFixBottom:{type:Number,default:200},popupBgColor:{type:String,default:"#98ff98"},lineHeight:{type:Number,default:50},lineStartColor:{type:String,default:"royalblue"},lineEndColor:{type:String,default:"indianred"}},data:function(){return{stopStatus:!1,btnTextContent:this.btnDefaultText,startTouchData:{},popupHeight:"0px",recording:!0,recordPopupShow:!1,recordTimeout:null}},created:function(){n=this,this.checkPermission(),r.onStop((function(t){null!==n.recordTimeout&&(clearTimeout(n.recordTimeout),n.recordTimeout=null),n.recording?n.$emit("endRecord",t):(n.recording=!0,n.$emit("cancelRecord"))})),r.onError((function(t){console.log("err:",t)}))},computed:{},methods:{upx2px:function(t){return uni.upx2px(t)+"px"},checkPermission:function(){var t=this;return(0,s.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:uni.authorize({scope:"scope.record",success:function(){t.permisionState=!0},fail:function(){uni.showToast({title:"请授权使用录音",icon:"none"})}});case 1:case"end":return e.stop()}}),e)})))()},startRecord:function(){var t=this;this.permisionState?(this.stopStatus=!1,setTimeout((function(){t.popupHeight=t.upx2px(t.popupMaxHeight),setTimeout((function(){t.recordPopupShow=!0,t.btnTextContent=t.btnRecordingText,t.vibrate,r.start(t.recordOptions),t.recordTimeout=setTimeout((function(){t.stopRecord(),t.recordTimeout=null}),t.recordOptions.duration?t.recordOptions.duration:6e4),t.$emit("startRecord")}),100)}),200)):this.checkPermission()},endRecord:function(){this.stopStatus||(this.popupHeight="0px",this.recordPopupShow=!1,this.btnTextContent=this.btnDefaultText,r.stop())},stopRecord:function(){this.endRecord(),this.stopStatus=!0},touchStart:function(t){this.startTouchData.clientX=t.changedTouches[0].clientX,this.startTouchData.clientY=t.changedTouches[0].clientY},touchMove:function(t){var e=t.touches[0],a=(e.clientX,this.startTouchData.clientX,e.clientY-this.startTouchData.clientY);a<-50?(this.vibrate&&this.recording,this.recording=!1):this.recording=!0}}};e.default=l},"7ce6":function(t,e,a){"use strict";var i=a("1d70"),n=a.n(i);n.a},"80d1":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"typerw",style:{fontSize:this.fontSize+"rpx",color:this.fontColor}},[e("v-uni-text",{attrs:{id:"typewriter-cont"}},[this._v(this._s(this.content))])],1)},n=[]},"80f2":function(t,e,a){"use strict";a.r(e);var i=a("eabf"),n=a("b984");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("0595");var s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"39158b7a",null,!1,i["a"],void 0);e["default"]=r.exports},"87db":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){},a("caad"),a("2532");i(a("9e53"))},"8a5c":function(t,e,a){"use strict";a.r(e);var i=a("5dc8"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"937b":function(t,e,a){"use strict";var i=a("512ce"),n=a.n(i);n.a},"9e53":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new Promise((function(t,e){e({message:"请在App中使用"})}))},a("d3b7")},afd0:function(t,e,a){"use strict";var i=a("c6b8"),n=a.n(i);n.a},b984:function(t,e,a){"use strict";a.r(e);var i=a("7189"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},bb3a:function(t,e,a){t.exports=a.p+"static/img/keyboard.09351955.png"},bdb4:function(t,e,a){"use strict";a.r(e);var i=a("80d1"),n=a("0633");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("937b");var s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"1ceb22a4",null,!1,i["a"],void 0);e["default"]=r.exports},c6b8:function(t,e,a){var i=a("2aa8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("3d3abe37",i,!0,{sourceMap:!1,shadowMode:!1})},cbea:function(t,e,a){"use strict";a.r(e);var i=a("604e"),n=a("8a5c");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("7ce6");var s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"06e5a3a2",null,!1,i["a"],void 0);e["default"]=r.exports},d062:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{type:{type:String,default:"loader1"}}};e.default=i},e2c6:function(t,e,a){"use strict";a.r(e);var i=a("d062"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},e8da:function(t,e,a){var i=a("5ae3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("361a1c72",i,!0,{sourceMap:!1,shadowMode:!1})},eabf:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"record-btn",style:[t.btnStyle,{"--btn-hover-fontcolor":t.btnHoverFontcolor,"--btn-hover-bgcolor":t.btnHoverBgcolor}],attrs:{"hover-class":"record-btn-hover","hover-start-time":"200","hover-stay-time":"150"},on:{longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.startRecord.apply(void 0,arguments)},touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.endRecord.apply(void 0,arguments)}}},[t._v(t._s(t.btnTextContent))]),a("v-uni-view",{staticClass:"record-popup",style:{"--popup-height":t.popupHeight,"--popup-width":t.upx2px(t.popupMaxWidth),"--popup-bottom":t.upx2px(t.popupFixBottom),"--popup-bg-color":t.popupBgColor}},[t.recordPopupShow?a("v-uni-view",{staticClass:"inner-content"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.popupTitle))]),t.recording?a("v-uni-view",{staticClass:"voice-line-wrap",style:{"--line-height":t.upx2px(t.lineHeight),"--line-start-color":t.lineStartColor,"--line-end-color":t.lineEndColor}},[a("v-uni-view",{staticClass:"voice-line one"}),a("v-uni-view",{staticClass:"voice-line two"}),a("v-uni-view",{staticClass:"voice-line three"}),a("v-uni-view",{staticClass:"voice-line four"}),a("v-uni-view",{staticClass:"voice-line five"}),a("v-uni-view",{staticClass:"voice-line six"}),a("v-uni-view",{staticClass:"voice-line seven"}),a("v-uni-view",{staticClass:"voice-line six"}),a("v-uni-view",{staticClass:"voice-line five"}),a("v-uni-view",{staticClass:"voice-line four"}),a("v-uni-view",{staticClass:"voice-line three"}),a("v-uni-view",{staticClass:"voice-line two"}),a("v-uni-view",{staticClass:"voice-line one"})],1):t._e(),t.recording?t._e():a("v-uni-view",{staticClass:"cancel-icon"},[t._v("+")]),a("v-uni-view",{staticClass:"tips"},[t._v(t._s(t.recording?t.popupDefaultTips:t.popupCancelTips))])],1):t._e()],1)],1)},n=[]},f5e0:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={name:"lj-typewriter",props:{fontSize:{type:Number|String,default:36},fontColor:{type:String,default:"#000"},textValue:{type:String,default:"hi"},time:{type:Number,default:50},direction:{type:Boolean,default:!0}},watch:{textValue:{handler:function(t,e){this.showText()}}},data:function(){return{content:""}},methods:{showText:function(){var t=this;if(this.direction)for(var e=function(e){setTimeout((function(){t.content=t.textValue.substr(0,e)}),(e-1)*t.time)},a=1;a<=this.textValue.length;a++)e(a);else for(var i=function(e){setTimeout((function(){t.content=t.textValue.substr(0,e)}),(t.textValue.length-e)*t.time)},n=this.textValue.length;n>=0;n--)i(n)}},mounted:function(){this.showText()}};e.default=i}}]);